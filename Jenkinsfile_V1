node("Django-Node") {

  try{

    // Declare Variables

    def STAGE_REGISTRY="cideo_stage"
    

    // Stage 1: Get The Code From SCM
    stage("Get The Latest Code") {

      checkout scm

      stage ("Get The Latest Changes") {
        sh ('git log  --pretty=format:"%Cred%an - %ar%n %Cblue %h -%Cgreen %s %n" -n 5')
      }

    }



   // Stage 2: Test The code 
   stage ("Get The Code Tested"){
   
       
      
   }

   
  // Stage 3: Build Docker Image , Push it to Stage DockerHub Registry
  stage("Stage:Build --> Docker Build | Push To Stage Registry"){

    stage("Stage:Build --> Image Build"){
    
      sh ("docker build -t cidemo_stage:${BRANCH}_${env.BUILD_NUMBER} .")
   
    }


   stage("Stage:Build --> Image Push To Stage Registry"){
     

   }
 
    
    
  }
  catch(err){}
  finally{}
}
